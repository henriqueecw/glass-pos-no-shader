"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{1799:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var o=n(7437),r=n(2265),i=n(2860),l=n(6154),a=n(5189),s=n(3958),c=n(8558),u=n(1751),p=n(5337),f=n(4193),d=n(6376);let m={speed:.008,floatEnabled:!0,floatAmplitude:.025,autoRotate:!0,rotationAmplitude:.04},y={rotation:{x:.02,y:0,z:0},position:{x:0,y:.2,z:0},scale:150},g={ambient:{intensity:.8},directional:[{intensity:1.8,position:[0,5,8],color:"#ffffff"},{intensity:.8,position:[-3,2,5],color:"#ccddff"},{intensity:1,position:[3,-2,5],color:"#c9a962"}],point:[{intensity:.8,position:[0,3,6],distance:30}]},h={enabled:!0,color:"#ffac45",intensity:5e3,position:[0,-8,10],angle:1,penumbra:.5,distance:80,coneOpacity:0,attenuation:12,anglePower:1},b=(e,t,n)=>e+(t-e)*n,x=e=>1-Math.pow(1-e,3),M={riseDelay:0,riseDuration:1.2,rotationDelay:.3,rotationDuration:2,totalRotations:1};function j(e){let{isAnimating:t=!1}=e,n=(0,r.useRef)(null),l=(0,r.useRef)(0),a=(0,r.useRef)(0),s=(0,r.useRef)(0),c=(0,r.useRef)(-1.2),g=(0,r.useRef)(150),h=(0,r.useRef)(null),j=(0,i.H)(p.L,"".concat("/glass-pos-no-shader","/models/POS.obj"),void 0,e=>{e.total>0&&console.log("[MobileModel] Loading progress:",Math.round(e.loaded/e.total*100),"%")});(0,r.useEffect)(()=>{j&&console.log("[MobileModel] OBJ loaded successfully")},[j]);let v=(0,r.useMemo)(()=>{console.log("[MobileModel] Processing geometry...");let e=[];if(j.traverse(t=>{if(t instanceof d.Mesh){let n=t.geometry.clone();if(t.matrixWorld&&(n.applyMatrix4(t.matrixWorld),n.attributes.normal)){let e=new d.Matrix3().getNormalMatrix(t.matrixWorld),o=n.attributes.normal,r=new d.Vector3;for(let t=0;t<o.count;t++)r.fromBufferAttribute(o,t),r.applyMatrix3(e).normalize(),o.setXYZ(t,r.x,r.y,r.z);o.needsUpdate=!0}n.attributes.position&&(n.attributes.normal||n.computeVertexNormals(),e.push(n))}}),e.length>0){var t;let n=(0,f.n4)(e,!1);return console.log("[MobileModel] Geometry merged, vertices:",null==n?void 0:null===(t=n.attributes.position)||void 0===t?void 0:t.count),n}return console.log("[MobileModel] No geometry found"),null},[j]);return((0,i.F)(e=>{if(!n.current)return;l.current+=m.speed;let o=e.clock.getElapsedTime();t&&null===h.current?h.current=o:t||(h.current=null);let r=-1.2;if(t&&null!==h.current){let e=o-h.current-M.riseDelay;e>0&&(r=b(-1.2,.2,x(Math.min(e/M.riseDuration,1))))}let i=m.floatEnabled?Math.sin(l.current)*m.floatAmplitude*.5:0,u=0;if(t&&null!==h.current){let e=o-h.current-M.rotationDelay;e>0&&(u=x(Math.min(e/M.rotationDuration,1))*Math.PI*2*M.totalRotations)}let p=y.scale,f=p;t&&null!==h.current&&(f=p*(1+.15*x(Math.min((o-h.current)/M.riseDuration,1))));let d=t?.1:.06;c.current=b(c.current,r,d),a.current=b(a.current,u,d),s.current=b(s.current,y.rotation.x,d),g.current=b(g.current,f,d),n.current.position.x=y.position.x,n.current.position.y=c.current+i,n.current.rotation.y=a.current,n.current.rotation.x=s.current,n.current.scale.setScalar(g.current);let j=m.autoRotate?Math.cos(.5*l.current)*m.rotationAmplitude*.2:0;n.current.rotation.z=j}),v)?(console.log("[MobileModel] Rendering mesh"),(0,o.jsx)("group",{ref:n,scale:g.current,position:[y.position.x,c.current,y.position.z],rotation:[y.rotation.x,0,0],children:(0,o.jsx)(u.M,{children:(0,o.jsx)("mesh",{geometry:v,scale:.018,children:(0,o.jsx)("meshPhysicalMaterial",{color:"#e8e0d0",metalness:.1,roughness:.15,envMapIntensity:1.5,clearcoat:.8,clearcoatRoughness:.1})})})})):(console.log("[MobileModel] Waiting for geometry..."),null)}var v=n(7275);let R=(e,t,n)=>e+(t-e)*n,S=e=>1-Math.pow(1-e,3),D={riseDelay:0,riseDuration:1.2,intensityDelay:.3,intensityDuration:1};function w(e){let{target:t,isAnimating:n}=e,l=(0,r.useRef)(null),a=(0,r.useRef)(null),s=h.position[1]-.2,c=(0,r.useRef)(-1.2+s),u=(0,r.useRef)(-1.2),p=(0,r.useRef)(0);return((0,i.F)(e=>{if(!l.current||!t)return;let o=e.clock.getElapsedTime();n&&null===a.current?a.current=o:n||(a.current=null);let r=-1.2,i=0;if(n&&null!==a.current){let e=o-a.current-D.riseDelay;e>0&&(r=R(-1.2,.2,S(Math.min(e/D.riseDuration,1))));let t=o-a.current-D.intensityDelay;if(t>0){let e=Math.min(t/D.intensityDuration,1);i=R(0,h.intensity,S(e))}}let f=r+s,d=n?.1:.06;c.current=R(c.current,f,d),u.current=R(u.current,r,d),p.current=R(p.current,i,d),l.current.position.y=c.current,l.current.intensity=p.current,t.position.y=u.current}),h.enabled)?(0,o.jsx)(v.P,{ref:l,color:h.color,intensity:p.current,position:[h.position[0],c.current,h.position[2]],angle:h.angle,penumbra:h.penumbra,distance:h.distance,attenuation:h.attenuation,anglePower:h.anglePower,target:t,opacity:h.coneOpacity}):null}function E(e){let{isAnimating:t=!1}=e,n=(0,r.useRef)(null),[i,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{n.current&&l(!0)},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("object3D",{ref:n,position:[0,-1.2,0]}),(0,o.jsx)("ambientLight",{intensity:g.ambient.intensity}),g.directional.map((e,t)=>(0,o.jsx)("directionalLight",{intensity:e.intensity,position:e.position,color:e.color},"mobile-dir-".concat(t))),g.point.map((e,t)=>(0,o.jsx)("pointLight",{intensity:e.intensity,position:e.position,distance:e.distance},"mobile-point-".concat(t))),i&&n.current&&(0,o.jsx)(w,{target:n.current,isAnimating:t})]})}let A=(e,t,n)=>e+(t-e)*n,P=e=>1-Math.pow(1-e,3),z={position:[0,0,4.5],fov:75},k={line1:"Transpar\xeancia",line2:"de verdade",baseY:.2,lineSpacing:.7,fontSize:.5,color:"#c9a962",letterSpacing:-.02,font:"".concat("/glass-pos-no-shader","/fonts/Poppins-Bold.ttf")};function C(e){let{text:t,isAnimating:n,delay:l,baseY:s,zPosition:c}=e,u=(0,r.useRef)(null),p=(0,r.useRef)(0),f=(0,r.useRef)(s-.3),d=(0,r.useRef)(null);return(0,i.F)(e=>{if(!u.current)return;let t=e.clock.getElapsedTime();n&&null===d.current?d.current=t+l:n||(d.current=null);let o=0,r=s-.3;if(n&&null!==d.current){let e=t-d.current;if(e>0){let t=P(Math.min(e/.8,1));o=t,r=A(s-.3,s,t)}}let i=n?.12:.08;p.current=A(p.current,o,i),f.current=A(f.current,r,i),u.current.material&&(u.current.material.opacity=p.current),u.current.position.y=f.current}),(0,o.jsx)(a.x,{ref:u,position:[0,f.current,c],fontSize:k.fontSize,color:k.color,anchorX:"center",anchorY:"middle",letterSpacing:k.letterSpacing,font:k.font,"material-transparent":!0,"material-opacity":0,children:t})}function L(e){let{isAnimating:t=!1}=e,[n,i]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{console.log("[MobileScene] Component mounted");try{let e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")?console.log("[MobileScene] WebGL supported"):(console.error("[MobileScene] WebGL not supported"),i(!0))}catch(e){console.error("[MobileScene] WebGL check failed:",e),i(!0)}},[]),n)?(0,o.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,o.jsx)("span",{className:"text-[var(--text-gold)] text-sm",children:"3D n\xe3o suportado neste dispositivo"})}):(0,o.jsx)(l.Xz,{camera:{position:z.position,fov:z.fov},style:{background:"transparent",width:"100%",height:"100%",pointerEvents:"none",touchAction:"pan-y"},dpr:[1,2],gl:{antialias:!0,alpha:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!1},onCreated:e=>{console.log("[MobileScene] Canvas created",e.gl.info),e.gl.domElement.style.touchAction="pan-y",e.gl.domElement.style.pointerEvents="none"},onError:e=>{console.error("[MobileScene] Canvas error:",e),i(!0)},children:(0,o.jsxs)(r.Suspense,{fallback:null,children:[(0,o.jsx)(E,{isAnimating:t}),(0,o.jsx)(C,{text:k.line1,isAnimating:t,delay:.3,baseY:k.baseY+k.lineSpacing/2,zPosition:-2}),(0,o.jsx)(C,{text:k.line2,isAnimating:t,delay:.5,baseY:k.baseY-k.lineSpacing/2,zPosition:-2}),(0,o.jsx)(j,{isAnimating:t}),(0,o.jsx)(s.qA,{preset:c.qZ.preset})]})})}},8558:function(e,t,n){n.d(t,{AQ:function(){return l},Af:function(){return r},Fc:function(){return o},hq:function(){return i},qZ:function(){return a}});let o={position:[0,0,4.3],fov:77},r={content:"Transpar\xeancia",position:[0,0,-3],fontSize:1.5,color:"#c9a962",font:"".concat("/glass-pos-no-shader","/fonts/Poppins-Bold.ttf"),letterSpacing:-.02},i={ambient:{intensity:.6},directional:[{intensity:1.5,position:[5,5,5],color:"#ffeedd"},{intensity:.6,position:[-5,0,5],color:"#ccddff"},{intensity:1.2,position:[0,3,-5]},{intensity:.7,position:[0,-5,2],color:"#c9a962"}],point:[{intensity:1,position:[4,4,5],distance:50},{intensity:.8,position:[-4,-2,5],distance:50},{intensity:.6,position:[0,5,3],distance:50}]},l={enabled:!0,color:"#ffac45",intensity:8e3,position:[8,-10.5,-11.5],angle:1.2,penumbra:0,distance:100,coneOpacity:0,attenuation:15,anglePower:1},a={preset:"city"}}}]);